"use strict";(self["webpackChunkcloud_music"]=self["webpackChunkcloud_music"]||[]).push([[492],{7820:function(t,i,a){a.d(i,{Z:function(){return d}});var e=function(){var t=this,i=t._self._c;return i("div",{staticClass:"GoTop",class:t.isGoTopShow?"showBtn":t.isFirstLoad?"":"hideBtn",on:{click:t.goTop}},[i("i",{staticClass:"iconfont icon-huidaodingbu"})])},s=[];let n;var r={name:"GoTop",props:{scrollObj:{type:String,default(){return""}}},data(){return{isGoTopShow:!1,isFirstLoad:!0}},methods:{goTop(){this.el.scrollTo({behavior:"smooth",top:0})}},mounted(){""==this.scrollObj?(n=document,this.el=document.documentElement):(n=document.querySelector(this.scrollObj),this.el=n),n.onscroll=t=>{this.el.scrollTop>=500&&0==this.isGoTopShow?(this.isGoTopShow=!0,this.isFirstLoad&&(this.isFirstLoad=!1)):this.el.scrollTop<500&&this.isGoTopShow&&(this.isGoTopShow=!1)}}},l=r,o=a(1001),c=(0,o.Z)(l,e,s,!1,null,"07f39774",null),d=c.exports},1399:function(t,i,a){a.d(i,{Z:function(){return c}});var e=function(){var t=this,i=t._self._c;return i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],ref:"listCard",staticClass:"listCard",attrs:{"infinite-scroll-disabled":t.disabled,"infinite-scroll-distance":300,"infinite-scroll-immediate":!1}},t._l(t.listCardData,(function(a,e){return i("div",{key:e,staticClass:"listCardItem",on:{click:function(i){return t.clickListCardItem(a.id)}}},[i("div",{staticClass:"image"},[i("img",{attrs:{src:(a.picUrl||a.coverImgUrl)+"?param=400y400",alt:""}})]),i("div",{staticClass:"title"},[t._v(t._s(a.name))])])})),0)},s=[],n={name:"ListCard",props:{listCardData:{type:Array,default(){return[]}},isLoad:{type:Boolean,default(){return!1}}},data(){return{disabled:!0}},methods:{clickListCardItem(t){this.$emit("clickListCardItem",t)},load(){this.$emit("bottomLoad"),this.disabled=!0}},watch:{listCardData(){1==this.isLoad&&(0!=this.listCardData.length?this.disabled=!1:this.disabled=!0)}}},r=n,l=a(1001),o=(0,l.Z)(r,e,s,!1,null,"a4cfd9ea",null),c=o.exports},2537:function(t,i,a){a.d(i,{Z:function(){return c}});var e=function(){var t=this,i=t._self._c;return i("div",{staticClass:"navBar"},t._l(t.SecondNavBarData,(function(a,e){return i("div",{key:e,staticClass:"barItem",class:e==t.activeNum?"active":"",style:0==t.itemWidth?"":"width:"+t.itemWidth+"px;",on:{click:function(i){return t.clickSecondBarItem(e)}}},[t._v(" "+t._s(a.name)+" ")])})),0)},s=[],n={name:"SecondNavBar",data(){return{activeNum:0}},props:{SecondNavBarData:{type:Array,default(){return[]}},itemWidth:{type:Number,default(){return 40}},currentTag:{type:Object,default(){return{}}}},methods:{clickSecondBarItem(t){this.activeNum!=t&&(this.activeNum=t,this.$emit("clickSecondBarItem",t))}},watch:{currentTag(t){this.activeNum=this.SecondNavBarData.findIndex((i=>i.name==t.name))}}},r=n,l=a(1001),o=(0,l.Z)(r,e,s,!1,null,"d900d204",null),c=o.exports},8492:function(t,i,a){a.r(i),a.d(i,{default:function(){return u}});var e=function(){var t=this,i=t._self._c;return i("div",{staticClass:"singerContainer"},[i("div",{staticClass:"singer"},[i("div",{staticClass:"selectors"},[i("div",{staticClass:"selectorItem"},[i("div",{staticClass:"title"},[t._v("语种：")]),i("second-nav-bar",{staticClass:"secondNavBar",attrs:{SecondNavBarData:t.languageSort},on:{clickSecondBarItem:t.areaItem}})],1),i("div",{staticClass:"selectorItem"},[i("div",{staticClass:"title"},[t._v("分类：")]),i("second-nav-bar",{staticClass:"secondNavBar",attrs:{SecondNavBarData:t.typeSort},on:{clickSecondBarItem:t.typeItem}})],1),i("div",{staticClass:"selectorItem"},[i("div",{staticClass:"title"},[t._v("筛选：")]),i("second-nav-bar",{staticClass:"secondNavBar",attrs:{SecondNavBarData:t.initialSort},on:{clickSecondBarItem:t.initialItem}})],1)]),i("div",{staticClass:"listCardContainer"},[i("list-card",{staticClass:"listCard",attrs:{listCardData:t.singerList,isLoad:""},on:{clickListCardItem:t.clickListCardItem,bottomLoad:t.bottomLoad}})],1)]),i("go-top",{attrs:{scrollObj:".singerContainer"}})],1)},s=[],n=(a(7658),a(1399)),r=a(2537),l=a(7820),o={components:{SecondNavBar:r.Z,ListCard:n.Z,GoTop:l.Z},name:"singer",data(){return{languageSort:[{area:-1,name:"全部"},{area:7,name:"华语"},{area:96,name:"欧美"},{area:8,name:"日本"},{area:16,name:"韩国"},{area:0,name:"其它"}],typeSort:[{type:-1,name:"全部"},{type:1,name:"男歌手"},{type:2,name:"女歌手"},{type:3,name:"乐队"}],initialSort:[{initial:-1,name:"热门"},{initial:"a",name:"A"},{initial:"b",name:"B"},{initial:"c",name:"C"},{initial:"d",name:"D"},{initial:"e",name:"E"},{initial:"f",name:"F"},{initial:"g",name:"G"},{initial:"h",name:"H"},{initial:"i",name:"I"},{initial:"j",name:"J"},{initial:"k",name:"K"},{initial:"l",name:"L"},{initial:"m",name:"M"},{initial:"n",name:"N"},{initial:"o",name:"O"},{initial:"p",name:"P"},{initial:"q",name:"Q"},{initial:"r",name:"R"},{initial:"s",name:"S"},{initial:"t",name:"T"},{initial:"u",name:"U"},{initial:"v",name:"V"},{initial:"w",name:"W"},{initial:"x",name:"X"},{initial:"y",name:"Y"},{initial:"z",name:"Z"},{initial:0,name:"#"}],area:-1,type:-1,initial:-1,currentPage:1,singerList:[],isMore:!1}},methods:{async getSingerList(){let t=await this.$request("/artist/list",{type:this.type,area:this.area,initial:this.initial,offset:30*(this.currentPage-1)});console.log(t),this.singerList.push(...t.data.artists),this.isMore=t.data.more},areaItem(t){console.log(this.languageSort[t].area),this.area=this.languageSort[t].area,this.singerList=[],this.currentPage=1,this.getSingerList()},typeItem(t){console.log(this.typeSort[t].type),this.type=this.typeSort[t].type,this.currentPage=1,this.singerList=[],this.getSingerList()},initialItem(t){console.log(this.initialSort[t].initial),this.initial=this.initialSort[t].initial,this.currentPage=1,this.singerList=[],this.getSingerList()},clickListCardItem(t){this.$router.push({name:"singerDetail",params:{id:t}})},bottomLoad(){1==this.isMore&&(this.currentPage+=1,this.getSingerList())}},created(){this.getSingerList()},mounted(){}},c=o,d=a(1001),m=(0,d.Z)(c,e,s,!1,null,"25599f17",null),u=m.exports}}]);
//# sourceMappingURL=492.b28dd8ff.js.map