"use strict";(self["webpackChunkcloud_music"]=self["webpackChunkcloud_music"]||[]).push([[897],{1399:function(t,a,e){e.d(a,{Z:function(){return u}});var s=function(){var t=this,a=t._self._c;return a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],ref:"listCard",staticClass:"listCard",attrs:{"infinite-scroll-disabled":t.disabled,"infinite-scroll-distance":300,"infinite-scroll-immediate":!1}},t._l(t.listCardData,(function(e,s){return a("div",{key:s,staticClass:"listCardItem",on:{click:function(a){return t.clickListCardItem(e.id)}}},[a("div",{staticClass:"image"},[a("img",{attrs:{src:(e.picUrl||e.coverImgUrl)+"?param=400y400",alt:""}})]),a("div",{staticClass:"title"},[t._v(t._s(e.name))])])})),0)},i=[],r={name:"ListCard",props:{listCardData:{type:Array,default(){return[]}},isLoad:{type:Boolean,default(){return!1}}},data(){return{disabled:!0}},methods:{clickListCardItem(t){this.$emit("clickListCardItem",t)},load(){this.$emit("bottomLoad"),this.disabled=!0}},watch:{listCardData(){1==this.isLoad&&(0!=this.listCardData.length?this.disabled=!1:this.disabled=!0)}}},l=r,c=e(1001),n=(0,c.Z)(l,s,i,!1,null,"a4cfd9ea",null),u=n.exports},8897:function(t,a,e){e.r(a),e.d(a,{default:function(){return d}});var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"SearchAlbum"},[a("div",{staticClass:"tip"},[t._v("找到 "+t._s(t.albumCount)+" 个专辑")]),a("list-card",{attrs:{listCardData:t.searchAlbumList},on:{clickListCardItem:t.clickListCardItem}}),0!=t.searchAlbumList.length?a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.albumCount,small:"","page-size":30,"current-page":t.currentPage},on:{"current-change":t.pageChange}})],1):t._e()],1)},i=[],r=(e(7658),e(1399)),l={components:{ListCard:r.Z},name:"SearchAlbum",data(){return{albumCount:0,searchAlbumList:[],currentPage:1}},methods:{async getSearchAlbum(){let t=await this.$request("/cloudsearch",{keywords:this.$route.params.id,offset:30*(this.currentPage-1),type:10});console.log(t),this.albumCount=t.data.result.albumCount,this.searchAlbumList=t.data.result.albums},pageChange(t){this.currentPage=t,this.searchAlbumList=[],this.getSearchAlbum()},clickListCardItem(t){this.$router.push({name:"album",params:{id:t}})}},created(){this.getSearchAlbum()}},c=l,n=e(1001),u=(0,n.Z)(c,s,i,!1,null,"cc3f6de0",null),d=u.exports}}]);
//# sourceMappingURL=897.56a9903b.js.map