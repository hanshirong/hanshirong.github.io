{"version":3,"file":"js/401.905d382c.js","mappings":"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","sources":["webpack://cloud-music/./src/components/listCard/ListCard.vue","webpack://cloud-music/src/components/listCard/ListCard.vue","webpack://cloud-music/./src/components/listCard/ListCard.vue?6b14","webpack://cloud-music/./src/components/listCard/ListCard.vue?4700","webpack://cloud-music/./src/components/listTable/ListTable.vue","webpack://cloud-music/src/components/listTable/ListTable.vue","webpack://cloud-music/./src/components/listTable/ListTable.vue?7df3","webpack://cloud-music/./src/components/listTable/ListTable.vue?3289","webpack://cloud-music/./src/views/discover/discoverChildren/Ranking.vue","webpack://cloud-music/src/views/discover/discoverChildren/Ranking.vue","webpack://cloud-music/./src/views/discover/discoverChildren/Ranking.vue?ef09","webpack://cloud-music/./src/views/discover/discoverChildren/Ranking.vue?4fd8","webpack://cloud-music/./src/plugins/utils.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.load),expression:\"load\"}],ref:\"listCard\",staticClass:\"listCard\",attrs:{\"infinite-scroll-disabled\":_vm.disabled,\"infinite-scroll-distance\":300,\"infinite-scroll-immediate\":false}},_vm._l((_vm.listCardData),function(item,index){return _c('div',{key:index,staticClass:\"listCardItem\",on:{\"click\":function($event){return _vm.clickListCardItem(item.id)}}},[_c('div',{staticClass:\"image\"},[_c('img',{attrs:{\"src\":(item.picUrl || item.coverImgUrl) + '?param=400y400',\"alt\":\"\"}})]),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.name))])])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"listCard\" v-infinite-scroll=\"load\" :infinite-scroll-disabled=\"disabled\" :infinite-scroll-distance=\"300\"\r\n        :infinite-scroll-immediate=\"false\" ref=\"listCard\">\r\n        <div class=\"listCardItem\" v-for=\"(item, index) in listCardData\" :key=\"index\" @click=\"clickListCardItem(item.id)\">\r\n            <div class=\"image\">\r\n                <img :src=\"(item.picUrl || item.coverImgUrl) + '?param=400y400'\" alt=\"\" />\r\n            </div>\r\n            <div class=\"title\">{{ item.name }}</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: \"ListCard\",\r\n    props: {\r\n        listCardData: {\r\n            type: Array,\r\n            default() {\r\n                return [];\r\n            },\r\n        },\r\n        // 是否使用上拉触底事件\r\n        isLoad: {\r\n            type: Boolean,\r\n            default() {\r\n                return false;\r\n            },\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            // 无限滚动是否可用\r\n            disabled: true,\r\n        };\r\n    },\r\n    methods: {\r\n        clickListCardItem(id) {\r\n            this.$emit(\"clickListCardItem\", id);\r\n        },\r\n        // 滚动条边滑动边加载\r\n        load() {\r\n            this.$emit(\"bottomLoad\")\r\n            this.disabled = true\r\n        },\r\n    },\r\n    watch: {\r\n        //   数据更新后，可再次运行触发load事件\r\n        listCardData() {\r\n            if (this.isLoad == true) {\r\n                if (this.listCardData.length != 0) {\r\n                    this.disabled = false;\r\n                } else {\r\n                    this.disabled = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.listCard {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 10px 0;\r\n}\r\n\r\n.listCardItem {\r\n  width: 18.4%;\r\n  margin: 0 2% 20px 0;\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n}\r\n\r\n.image::after {\r\n  content: \"\";\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  background: url(\"~assets/img/imgLoading.png\") no-repeat center;\r\n  background-size: contain;\r\n  border-radius: 10px;\r\n  z-index: -1;\r\n}\r\n\r\n/* 一行显示五个 */\r\n.listCardItem:nth-child(5n) {\r\n  margin-right: 0;\r\n}\r\n\r\n.image {\r\n  width: 100%;\r\n  padding-bottom: 100%;\r\n  height: 0;\r\n  position: relative;\r\n}\r\n\r\n.image img {\r\n  width: 100%;\r\n  border-radius: 10px;\r\n}\r\n\r\n.title {\r\n  margin-top: 8px;\r\n  padding: 0 2px;\r\n  font-size: 12px;\r\n  color: black;\r\n  line-height: 17px;\r\n  /* 两行溢出 */\r\n  text-overflow: -o-ellipsis-lastline;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ListCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ListCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListCard.vue?vue&type=template&id=a4cfd9ea&scoped=true&\"\nimport script from \"./ListCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ListCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListCard.vue?vue&type=style&index=0&id=a4cfd9ea&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a4cfd9ea\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"listTableContainer\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"listCover\"},[_c('img',{attrs:{\"src\":_vm.officialListDetailItem.coverImgUrl || _vm.cover,\"alt\":\"\"},on:{\"click\":function($event){_vm.officialListDetailItem.coverImgUrl\n                ? _vm.clickPlayList(_vm.officialListDetailItem.id) : ''}}})])]),_c('div',{staticClass:\"right\"},[_c('table',_vm._l(((_vm.officialListDetailItem.tracks && _vm.officialListDetailItem.tracks.slice(0, 5)) ||\n                         (_vm.officialListDetailItem.topSongs &&\n                             (_vm.officialListDetailItem.isOpen ? _vm.officialListDetailItem.topSongs : _vm.officialListDetailItem.topSongs.slice(0, 10))) ||\n                         _vm.officialListDetailItem.songs.slice(0, 10)),function(item,index){return _c('tr',{key:index,staticClass:\"listRows\",on:{\"click\":function($event){return _vm.handleRowClick($event)},\"dblclick\":function($event){return _vm.handleRowDbClick($event,_vm.officialListDetailItem.id || item.id, index)}}},[_c('td',{staticClass:\"index\",class:index < 3 ? 'topthree' : ''},[_vm._v(_vm._s(index + 1))]),_c('td',{staticClass:\"musicName\"},[_vm._v(_vm._s(item.name))]),_c('td',{staticClass:\"singer\"},[_vm._v(_vm._s(item.ar[0].name))])])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isCheckAllShow),expression:\"isCheckAllShow\"}],staticClass:\"checkAll\",on:{\"click\":function($event){return _vm.clickCheckAll(_vm.officialListDetailItem.id)}}},[_vm._v(\" 查看全部 \"),_c('i',{staticClass:\"iconfont icon-arrow-right-bold\"})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"listTableContainer\">\r\n        <!-- 左边图片 -->\r\n        <div class=\"left\">\r\n            <div class=\"listCover\">\r\n                <img :src=\"officialListDetailItem.coverImgUrl || cover\" alt=\"\" @click=\"officialListDetailItem.coverImgUrl\r\n                    ? clickPlayList(officialListDetailItem.id) : ''\">\r\n            </div>\r\n        </div>\r\n        <!-- 右边是列表 -->\r\n        <div class=\"right\">\r\n            <table>\r\n                <tr class=\"listRows\" v-for=\"(item, index) in\r\n                         (officialListDetailItem.tracks && officialListDetailItem.tracks.slice(0, 5)) ||\r\n                             (officialListDetailItem.topSongs &&\r\n                                 (officialListDetailItem.isOpen ? officialListDetailItem.topSongs : officialListDetailItem.topSongs.slice(0, 10))) ||\r\n                             officialListDetailItem.songs.slice(0, 10)\" :key=\"index\" @click=\"handleRowClick($event)\"\r\n                    @dblclick=\"handleRowDbClick($event,officialListDetailItem.id || item.id, index)\">\r\n                    <td class=\"index\" :class=\"index < 3 ? 'topthree' : ''\">{{ index + 1 }}</td>\r\n                    <td class=\"musicName\">{{ item.name }}</td>\r\n                    <td class=\"singer\" >{{ item.ar[0].name }}</td>\r\n                </tr>\r\n            </table>\r\n            <div class=\"checkAll\" @click=\"clickCheckAll(officialListDetailItem.id)\" v-show=\"isCheckAllShow\">\r\n                查看全部 <i class=\"iconfont icon-arrow-right-bold\"></i>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: \"ListTable\",\r\n    data() {\r\n        return {};\r\n    },\r\n    props: {\r\n        officialListDetailItem: {\r\n            type: Object,\r\n            default() {\r\n                return {};\r\n            },\r\n        },\r\n        // 传过来的封面\r\n        cover: {\r\n            type: String,\r\n            default() {\r\n                return \"\";\r\n            },\r\n        },\r\n        // 传过来的listId\r\n        listId: {\r\n            type: String,\r\n            default() {\r\n                return \"\";\r\n            },\r\n        },\r\n        // 是否显示查看全部按钮\r\n        isCheckAllShow: {\r\n            type: Boolean,\r\n            default() {\r\n                return true;\r\n            },\r\n        },\r\n    },\r\n    methods: {\r\n        // 点击行的回调 （选中）\r\n        handleRowClick(event) {\r\n            var paths = event.composedPath ? event.composedPath() : event.path;\r\n            this.$emit(\"handleRowClick\", paths[0]);\r\n        },\r\n        // 双击行的回调 播放\r\n        // id 为当前歌单的id index为双击歌曲在歌单的索引\r\n        handleRowDbClick(event,id, index) {\r\n            let listId = this.listId;\r\n            this.$emit(\"handleRowDbClick\", { id, index, listId });\r\n        },\r\n        // 点击查看全部的回调\r\n        // 这里传来的id是用于Rangking的\r\n        clickCheckAll(id) {\r\n            let listId = this.listId;\r\n            this.$emit(\"clickCheckAll\", { id, listId });\r\n        },\r\n        // 点击图片之后的\r\n        clickPlayList(id){\r\n          let listId = this.listId;\r\n          this.$emit(\"clickPlayList\", { id, listId });\r\n        }\r\n    },\r\n};\r\n</script>\r\n<style scoped>\r\n.listTableContainer{\r\n    display: flex;\r\n    margin: 20px 0 50px 0;\r\n}\r\n\r\n.listCover {\r\n  width: 150px;\r\n  height: 150px;\r\n  margin-right: 20px;\r\n  cursor: pointer;\r\n}\r\n\r\n.listCover img {\r\n  width: 100%;\r\n  border-radius: 10px;\r\n}\r\n\r\n.right{\r\n  width: calc(100% - 200px);\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n}\r\n\r\n.listRows {\r\n  height: 30px;\r\n  font-size: 12px;\r\n  color: rgb(153, 153, 153);\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n}\r\n\r\n.listRows:nth-child(odd) {\r\n  background-color: #f9f9f9;\r\n}\r\n.listRows:hover {\r\n  background-color: #f4f4f4;\r\n}\r\n\r\n.listRows td {\r\n  transform: scale(0.9);\r\n}\r\n\r\n.index {\r\n  text-align: center;\r\n  line-height: 28px;\r\n  width: 30px;\r\n}\r\n.topthree {\r\n  color: crimson;\r\n}\r\n\r\n.listRows .musicName {\r\n  color: rgb(31, 31, 31);\r\n  transform: translate(-5%, -5%) scale(0.9);\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  width: 80%;\r\n}\r\n\r\n.singer {\r\n  text-align: right;\r\n  position: absolute;\r\n  right: 10px;\r\n}\r\n\r\n.checkAll {\r\n  color: rgb(134, 134, 134);\r\n  font-size: 12px;\r\n  transform: scale(0.9) translateX(-5%);\r\n  width: 100px;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  cursor: pointer;\r\n}\r\n\r\n.checkAll i {\r\n  font-size: 12px;\r\n}\r\n\r\n/* .selectRow {\r\n  background-color: red !important;\r\n} */\r\n\r\ntr {\r\n  cursor: pointer;\r\n}\r\n\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ListTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ListTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListTable.vue?vue&type=template&id=073fa8cf&scoped=true&\"\nimport script from \"./ListTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ListTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListTable.vue?vue&type=style&index=0&id=073fa8cf&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"073fa8cf\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"rankingContainer\"},[(_vm.officialListDetail.length != 0)?_c('div',{staticClass:\"ranking\"},[_c('div',{staticClass:\"offical\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"官方榜\")]),_vm._l((_vm.officialListDetail),function(item,index){return _c('list-table',{key:index,attrs:{\"officialListDetailItem\":item},on:{\"handleRowClick\":_vm.handleRowClick,\"handleRowDbClick\":_vm.handleRowDbClick,\"clickCheckAll\":_vm.clickListCardItem,\"clickPlayList\":_vm.clickPlayList}})})],2),_c('div',{staticClass:\"global\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"全球榜\")]),_c('list-card',{staticClass:\"listCard\",attrs:{\"listCardData\":_vm.globalList},on:{\"clickListCardItem\":_vm.clickListCardItem}})],1)]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <!-- 请求到数据前先不进行渲染，避免报错和影响美观 -->\r\n    <div class=\"rankingContainer\">\r\n      <div class=\"ranking\" v-if=\"officialListDetail.length != 0\">\r\n        <div class=\"offical\">\r\n          <div class=\"title\">官方榜</div>\r\n          <list-table\r\n            :officialListDetailItem=\"item\"\r\n            v-for=\"(item, index) in officialListDetail\"\r\n            :key=\"index\"\r\n            @handleRowClick=\"handleRowClick\"\r\n            @handleRowDbClick=\"handleRowDbClick\"\r\n            @clickCheckAll=\"clickListCardItem\"\r\n            @clickPlayList = \"clickPlayList\"\r\n          ></list-table>\r\n        </div>\r\n        <div class=\"global\">\r\n          <div class=\"title\">全球榜</div>\r\n          <!-- 展示歌单列表 -->\r\n          <list-card\r\n            class=\"listCard\"\r\n            :listCardData=\"globalList\"\r\n            @clickListCardItem=\"clickListCardItem\"\r\n          ></list-card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n<script>\r\nimport { handleMusicTime } from \"plugins/utils\";\r\n\r\nimport ListTable from \"components/listTable/ListTable.vue\";\r\nimport ListCard from \"components/listCard/ListCard.vue\";\r\nexport default {\r\n  components: { ListTable, ListCard },\r\n  name: \"Ranking\",\r\n  data() {\r\n    return {\r\n      officialList: [],\r\n      officialListDetail: [],\r\n      globalList: [],\r\n    };\r\n  },\r\n  methods: {\r\n    // 请求\r\n    // 请求所有榜单\r\n    async getAllRankings() {\r\n      let res = await this.$request(\"/toplist\");\r\n      this.officialList = res.data.list.slice(0, 4);\r\n      this.globalList = res.data.list.slice(4);\r\n    },\r\n    // 根据榜单id请求详细数据\r\n    // 根据传来的 id 查询歌单\r\n    async getMusicListDetail(id) {\r\n      // console.log(this.$route.params.id);\r\n      let result = await this.$request(\"/playlist/detail\", { id });\r\n      // console.log(result);\r\n      result = result.data.playlist;\r\n      // 对时间进行处理\r\n      result.tracks.forEach((item, index) => {\r\n        result.tracks[index].dt = handleMusicTime(item.dt);\r\n      });\r\n      this.officialListDetail.push(result);\r\n    },\r\n\r\n    // 事件函数\r\n    // 行点击事件的回调\r\n    handleRowClick(event) {\r\n    //   console.log(id);\r\n    //   if (document.querySelector(\".selectRow\")) {\r\n    //     document.querySelector(\".selectRow\").classList.remove(\"selectRow\");\r\n    //   }\r\n    //   event.classList.add(\"selectRow\");\r\n    },\r\n    // 行双击事件的回调\r\n    // id 歌单id   index 双击歌曲在歌单中的索引\r\n    handleRowDbClick({ id, index }) {\r\n      // console.log(id);\r\n      // console.log(index);\r\n      let musicListIndex = this.officialListDetail.findIndex(\r\n        (item) => item.id == id\r\n      );\r\n      this.$store.commit(\r\n        \"updateMusicId\",\r\n        this.officialListDetail[musicListIndex].tracks[index].id\r\n      );\r\n      // 如果歌单发生变化,则提交歌单到vuex\r\n      if (id != this.$store.state.musicListId) {\r\n        // 将歌单传到vuex\r\n        this.$store.commit(\"updateMusicList\", {\r\n          musicList: this.officialListDetail[musicListIndex].tracks,\r\n          musicListId: id,\r\n        });\r\n      }\r\n    },\r\n    // 点击榜单进入歌单详情界面\r\n    clickListCardItem(id) {\r\n      if (!this.$store.state.isLogin) {\r\n        this.$message.error(\"登录后才能查看全部歌曲哦!\");\r\n        return;\r\n      }\r\n      if (id.id) {\r\n        id = id.id;\r\n      }\r\n      this.$router.push({ name: \"musicListDetail\", params: { id } });\r\n    },\r\n    clickPlayList(id){\r\n        console.log(id,this.officialListDetail)\r\n        // 找到现在是点击的哪一个榜单\r\n        let musicListIndex = this.officialListDetail.findIndex(\r\n        (item) => item.id == id);\r\n        // 播放当前的音乐列表的第一首歌曲\r\n        this.$store.commit(\r\n            \"updateMusicId\",\r\n            this.officialListDetail[musicListIndex].tracks[0].id\r\n        );\r\n        // 如果歌单发生变化,则提交歌单到vuex\r\n        if (id != this.$store.state.musicListId) {\r\n            // 将歌单传到vuex\r\n            this.$store.commit(\"updateMusicList\", {\r\n                musicList: this.officialListDetail[musicListIndex].tracks,\r\n                musicListId: id,\r\n            });\r\n        }\r\n    }\r\n  },\r\n  async created() {\r\n    // 请求所有的榜单\r\n    await this.getAllRankings();\r\n    this.officialList.forEach((item) => {\r\n      this.getMusicListDetail(item.id);\r\n    });\r\n    // console.log(this.officialListDetail);\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.rankingContainer {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n.ranking {\r\n  max-width: 80%;\r\n  padding: 0 10px;\r\n}\r\n\r\n.listCard {\r\n  margin-top: 15px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Ranking.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Ranking.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Ranking.vue?vue&type=template&id=3576544d&scoped=true&\"\nimport script from \"./Ranking.vue?vue&type=script&lang=js&\"\nexport * from \"./Ranking.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Ranking.vue?vue&type=style&index=0&id=3576544d&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3576544d\",\n  null\n  \n)\n\nexport default component.exports","\r\n// 处理音乐时长的时间\r\nexport function handleMusicTime(time) {\r\n    // 如果超过了100000 基本都是毫秒为单位的了 先转成秒的\r\n    time = parseInt(time);\r\n    if (time > 10000) {\r\n      time = Math.floor(time / 1000);\r\n    } else {\r\n      time = Math.floor(time);\r\n    }\r\n    let m = Math.floor(time / 60);\r\n    let s = Math.floor(time % 60);\r\n    m = m < 10 ? '0' + m : m;\r\n    s = s < 10 ? '0' + s : s;\r\n    return m + ':' + s;\r\n}\r\n\r\n// 生成当前时间戳\r\nexport function getTimeStamp() {\r\n  return Date.now();\r\n}\r\n\r\n// 将播放时长还原为秒数\r\nexport function returnSecond(time) {\r\n  time = time.split(':');\r\n  let m = parseInt(time[0]);\r\n  let s = parseInt(time[1]);\r\n  return m * 60 + s;\r\n}\r\n\r\n// 格式化时间\r\nexport function formatDate(date, fmt) {\r\n  // 1.获取年份\r\n  // y+ 1个或者多个y  yyyy:2021\r\n  // y* 0个或者多个y\r\n  // y? 0个或者1个y\r\n  if (/(y+)/.test(fmt)) {\r\n    // RegExp.$1 指的是与正则表达式匹配的第一个子匹配\r\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n  }\r\n\r\n  // 2.获取月日等\r\n  let o = {\r\n    'M+': date.getMonth() + 1,\r\n    'd+': date.getDate(),\r\n    'h+': date.getHours(),\r\n    'm+': date.getMinutes(),\r\n    's+': date.getSeconds(),\r\n  };\r\n  for (let k in o) {\r\n    if (new RegExp(`(${k})`).test(fmt)) {\r\n      let str = o[k] + '';\r\n      fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? str : padLeftZero(str));\r\n    }\r\n  }\r\n  return fmt;\r\n}\r\n\r\n// 处理大于1w的数字\r\nexport function handleNum(num) {\r\n  if (num > 10000) {\r\n    num = (num / 10000).toFixed(1);\r\n    return num + '万';\r\n  } else {\r\n    return num;\r\n  }\r\n}\r\n\r\n// 不足两位补足两位 04:05:09\r\nfunction padLeftZero(str) {\r\n  // str=4 -> 004 截取 1 位 -> 04\r\n  return ('00' + str).substr(str.length);\r\n}"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","load","expression","ref","staticClass","attrs","disabled","_l","listCardData","item","index","key","on","$event","clickListCardItem","id","picUrl","coverImgUrl","_v","_s","staticRenderFns","props","type","Array","default","isLoad","Boolean","data","methods","$emit","watch","length","component","officialListDetailItem","cover","clickPlayList","tracks","slice","topSongs","isOpen","songs","handleRowClick","handleRowDbClick","class","ar","isCheckAllShow","clickCheckAll","Object","String","listId","event","paths","composedPath","path","officialListDetail","globalList","_e","components","ListTable","ListCard","officialList","res","$request","list","result","playlist","forEach","dt","handleMusicTime","push","musicListIndex","findIndex","$store","commit","state","musicListId","musicList","isLogin","$router","params","$message","error","console","log","getAllRankings","getMusicListDetail","time","parseInt","Math","floor","m","s","getTimeStamp","Date","now","returnSecond","split","formatDate","date","fmt","test","replace","RegExp","$1","getFullYear","substr","o","getMonth","getDate","getHours","getMinutes","getSeconds","k","str","padLeftZero","handleNum","num","toFixed"],"sourceRoot":""}