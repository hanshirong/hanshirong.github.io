{"version":3,"file":"js/259.d12db0a8.js","mappings":"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","sources":["webpack://cloud-music/./src/components/listCard/ListCard.vue","webpack://cloud-music/src/components/listCard/ListCard.vue","webpack://cloud-music/./src/components/listCard/ListCard.vue?6b14","webpack://cloud-music/./src/components/listCard/ListCard.vue?4700","webpack://cloud-music/./src/views/search/searchChildren/SearchSinger.vue","webpack://cloud-music/src/views/search/searchChildren/SearchSinger.vue","webpack://cloud-music/./src/views/search/searchChildren/SearchSinger.vue?766c","webpack://cloud-music/./src/views/search/searchChildren/SearchSinger.vue?cfb0"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.load),expression:\"load\"}],ref:\"listCard\",staticClass:\"listCard\",attrs:{\"infinite-scroll-disabled\":_vm.disabled,\"infinite-scroll-distance\":300,\"infinite-scroll-immediate\":false}},_vm._l((_vm.listCardData),function(item,index){return _c('div',{key:index,staticClass:\"listCardItem\",on:{\"click\":function($event){return _vm.clickListCardItem(item.id)}}},[_c('div',{staticClass:\"image\"},[_c('img',{attrs:{\"src\":(item.picUrl || item.coverImgUrl) + '?param=400y400',\"alt\":\"\"}})]),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.name))])])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"listCard\" v-infinite-scroll=\"load\" :infinite-scroll-disabled=\"disabled\" :infinite-scroll-distance=\"300\"\r\n        :infinite-scroll-immediate=\"false\" ref=\"listCard\">\r\n        <div class=\"listCardItem\" v-for=\"(item, index) in listCardData\" :key=\"index\" @click=\"clickListCardItem(item.id)\">\r\n            <div class=\"image\">\r\n                <img :src=\"(item.picUrl || item.coverImgUrl) + '?param=400y400'\" alt=\"\" />\r\n            </div>\r\n            <div class=\"title\">{{ item.name }}</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: \"ListCard\",\r\n    props: {\r\n        listCardData: {\r\n            type: Array,\r\n            default() {\r\n                return [];\r\n            },\r\n        },\r\n        // 是否使用上拉触底事件\r\n        isLoad: {\r\n            type: Boolean,\r\n            default() {\r\n                return false;\r\n            },\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            // 无限滚动是否可用\r\n            disabled: true,\r\n        };\r\n    },\r\n    methods: {\r\n        clickListCardItem(id) {\r\n            this.$emit(\"clickListCardItem\", id);\r\n        },\r\n        // 滚动条边滑动边加载\r\n        load() {\r\n            this.$emit(\"bottomLoad\")\r\n            this.disabled = true\r\n        },\r\n    },\r\n    watch: {\r\n        //   数据更新后，可再次运行触发load事件\r\n        listCardData() {\r\n            if (this.isLoad == true) {\r\n                if (this.listCardData.length != 0) {\r\n                    this.disabled = false;\r\n                } else {\r\n                    this.disabled = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.listCard {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 10px 0;\r\n}\r\n\r\n.listCardItem {\r\n  width: 18.4%;\r\n  margin: 0 2% 20px 0;\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n}\r\n\r\n.image::after {\r\n  content: \"\";\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  background: url(\"~assets/img/imgLoading.png\") no-repeat center;\r\n  background-size: contain;\r\n  border-radius: 10px;\r\n  z-index: -1;\r\n}\r\n\r\n/* 一行显示五个 */\r\n.listCardItem:nth-child(5n) {\r\n  margin-right: 0;\r\n}\r\n\r\n.image {\r\n  width: 100%;\r\n  padding-bottom: 100%;\r\n  height: 0;\r\n  position: relative;\r\n}\r\n\r\n.image img {\r\n  width: 100%;\r\n  border-radius: 10px;\r\n}\r\n\r\n.title {\r\n  margin-top: 8px;\r\n  padding: 0 2px;\r\n  font-size: 12px;\r\n  color: black;\r\n  line-height: 17px;\r\n  /* 两行溢出 */\r\n  text-overflow: -o-ellipsis-lastline;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ListCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ListCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListCard.vue?vue&type=template&id=a4cfd9ea&scoped=true&\"\nimport script from \"./ListCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ListCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListCard.vue?vue&type=style&index=0&id=a4cfd9ea&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a4cfd9ea\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"searchSinger\"},[_c('div',{staticClass:\"tip\"},[_vm._v(\"找到 \"+_vm._s(_vm.singerCount)+\" 位歌手\")]),_c('list-card',{attrs:{\"listCardData\":_vm.searchSingerList},on:{\"clickListCardItem\":_vm.clickListCardItem}}),(_vm.searchSingerList.length != 0)?_c('div',{staticClass:\"page\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.singerCount,\"small\":\"\",\"page-size\":30,\"current-page\":_vm.currentPage},on:{\"current-change\":_vm.pageChange}})],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"searchSinger\">\r\n    <div class=\"tip\">找到 {{ singerCount }} 位歌手</div>\r\n    <list-card\r\n      :listCardData=\"searchSingerList\"\r\n      @clickListCardItem=\"clickListCardItem\"\r\n    ></list-card>\r\n    <!-- 分页 -->\r\n    <div class=\"page\" v-if=\"searchSingerList.length != 0\">\r\n      <el-pagination\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        :total=\"singerCount\"\r\n        small\r\n        :page-size=\"30\"\r\n        :current-page=\"currentPage\"\r\n        @current-change=\"pageChange\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ListCard from \"components/listCard/ListCard.vue\";\r\n\r\nexport default {\r\n  components: { ListCard },\r\n  name: \"SearchSinger\",\r\n  data() {\r\n    return {\r\n      singerCount: 0,\r\n      searchSingerList: [],\r\n      currentPage: 1,\r\n    };\r\n  },\r\n  methods: {\r\n    // 请求\r\n    // 请求搜索歌手\r\n    async getSearchSinger() {\r\n      let res = await this.$request(\"/cloudsearch\", {\r\n        keywords: this.$route.params.id,\r\n        offset: 30 * (this.currentPage - 1),\r\n        type: 100,\r\n      });\r\n      console.log(res);\r\n      this.singerCount = res.data.result.artistCount;\r\n      this.searchSingerList = res.data.result.artists;\r\n      // 对数据的音乐时长进行处理\r\n      // this.searchSongList.forEach((item, index) => {\r\n      //   this.searchSongList[index].dt = handleMusicTime(item.dt);\r\n      // });\r\n    },\r\n    // 评论点击翻页的回调\r\n    pageChange(page) {\r\n      this.currentPage = page;\r\n      this.searchSingerList = [];\r\n      this.getSearchSinger();\r\n    },\r\n    // 点击卡片的回调\r\n    // 跳转至singerDetail页面\r\n    clickListCardItem(id) {\r\n      this.$router.push({ name: \"singerDetail\", params: { id } });\r\n    },\r\n  },\r\n  created() {\r\n    this.getSearchSinger();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.searchSinger {\r\n  max-width: 1000px;\r\n  margin: auto;\r\n}\r\n\r\n.tip {\r\n  font-weight: bold;\r\n  color: rgb(34, 34, 34);\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.page {\r\n  width: 100%;\r\n  text-align: center;\r\n  padding-bottom: 20px;\r\n  margin: 20px 0;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchSinger.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchSinger.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchSinger.vue?vue&type=template&id=3d61f0e8&scoped=true&\"\nimport script from \"./SearchSinger.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchSinger.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchSinger.vue?vue&type=style&index=0&id=3d61f0e8&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d61f0e8\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","load","expression","ref","staticClass","attrs","disabled","_l","listCardData","item","index","key","on","$event","clickListCardItem","id","picUrl","coverImgUrl","_v","_s","staticRenderFns","props","type","Array","default","isLoad","Boolean","data","methods","$emit","watch","length","component","singerCount","searchSingerList","currentPage","pageChange","_e","components","ListCard","res","$request","keywords","$route","params","offset","console","log","result","artistCount","artists","page","getSearchSinger","$router","push","created"],"sourceRoot":""}