{"version":3,"file":"js/581.349bde58.js","mappings":"qJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,kBAAkBC,QAAQ,oBAAoBC,MAAOP,EAAIQ,KAAMC,WAAW,SAASC,IAAI,WAAWC,YAAY,WAAWC,MAAM,CAAC,2BAA2BZ,EAAIa,SAAS,2BAA2B,IAAI,6BAA4B,IAAQb,EAAIc,GAAId,EAAIe,cAAc,SAASC,EAAKC,GAAO,OAAOf,EAAG,MAAM,CAACgB,IAAID,EAAMN,YAAY,eAAeQ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOpB,EAAIqB,kBAAkBL,EAAKM,GAAG,IAAI,CAACpB,EAAG,MAAM,CAACS,YAAY,SAAS,CAACT,EAAG,MAAM,CAACU,MAAM,CAAC,KAAOI,EAAKO,QAAUP,EAAKQ,aAAe,iBAAiB,IAAM,QAAQtB,EAAG,MAAM,CAACS,YAAY,SAAS,CAACX,EAAIyB,GAAGzB,EAAI0B,GAAGV,EAAKX,UAAU,IAAG,EAChrB,EACIsB,EAAkB,GCUtB,GACAtB,KAAA,WACAuB,MAAA,CACAb,aAAA,CACAc,KAAAC,MACAC,UACA,QACA,GAGAC,OAAA,CACAH,KAAAI,QACAF,UACA,QACA,IAGAG,OACA,OAEArB,UAAA,EAEA,EACAsB,QAAA,CACAd,kBAAAC,GACA,KAAAc,MAAA,oBAAAd,EACA,EAEAd,OACA,KAAA4B,MAAA,cACA,KAAAvB,UAAA,CACA,GAEAwB,MAAA,CAEAtB,eACA,QAAAiB,SACA,QAAAjB,aAAAuB,OACA,KAAAzB,UAAA,EAEA,KAAAA,UAAA,EAGA,ICvDiQ,I,UCQ7P0B,GAAY,OACd,EACAxC,EACA4B,GACA,EACA,KACA,WACA,MAIF,EAAeY,EAAiB,O,oECnBhC,IAAIxC,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACS,YAAY,YAAY,CAAEX,EAAIwC,SAASC,UAAWvC,EAAG,MAAM,CAACS,YAAY,YAAY,CAACT,EAAG,MAAM,CAACS,YAAY,QAAQ,CAACT,EAAG,MAAM,CAACS,YAAY,SAASC,MAAM,CAAC,IAAMZ,EAAIwC,SAASC,UAAY,iBAAiB,IAAM,QAAQvC,EAAG,MAAM,CAACS,YAAY,SAAS,CAACT,EAAG,MAAM,CAACS,YAAY,YAAY,CAACT,EAAG,MAAM,CAACS,YAAY,YAAY,CAACT,EAAG,MAAM,CAACF,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIwC,SAASE,aAAc1C,EAAI2C,eAAiB1C,KAAK2C,OAAOC,MAAMC,QAAS5C,EAAG,MAAM,CAACS,YAAY,SAASQ,GAAG,CAAC,MAAQnB,EAAI+C,SAAS,CAAC7C,EAAG,IAAI,CAACS,YAAY,2BAA2BT,EAAG,OAAO,CAACF,EAAIyB,GAAG,YAAYzB,EAAIgD,OAAO9C,EAAG,MAAM,CAACS,YAAY,QAAQ,CAACT,EAAG,MAAM,CAACS,YAAY,SAAS,CAACX,EAAIyB,GAAGzB,EAAI0B,GAAG,KAAO1B,EAAIwC,SAASS,UAAU/C,EAAG,MAAM,CAACS,YAAY,eAAeT,EAAG,MAAM,CAACS,YAAY,eAAe,CAACT,EAAG,MAAM,CAACS,YAAY,YAAY,CAACT,EAAG,MAAM,CAACS,YAAY,WAAW,CAACT,EAAG,MAAM,CAACS,YAAY,cAAc,CAACX,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIwC,SAASU,eAAehD,EAAG,MAAM,CAACS,YAAY,iBAAiB,CAACX,EAAIyB,GAAG,YAAYvB,EAAG,MAAM,CAACS,YAAY,aAAa,CAACT,EAAG,MAAM,CAACS,YAAY,iBAAiB,CAACT,EAAG,MAAM,CAACS,YAAY,gBAAgB,CAACX,EAAIyB,GAAG,WAAWvB,EAAG,MAAM,CAACS,YAAY,kBAAkB,CAACX,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIwC,SAASW,aAAajD,EAAG,MAAM,CAACS,YAAY,iBAAiB,CAACT,EAAG,MAAM,CAACS,YAAY,gBAAgB,CAACX,EAAIyB,GAAG,WAAWvB,EAAG,MAAM,CAACS,YAAY,kBAAkB,CAACX,EAAIyB,GAAG,IAAIzB,EAAI0B,GAAG1B,EAAIwC,SAASY,SAAW,IAAMpD,EAAIwC,SAASa,MAAM,SAASnD,EAAG,MAAM,CAACS,YAAY,iBAAiB,CAACT,EAAG,MAAM,CAACS,YAAY,gBAAgB,CAACX,EAAIyB,GAAG,WAAWvB,EAAG,MAAM,CAACS,YAAY,kBAAkB,CAACX,EAAIyB,GAAG,IAAIzB,EAAI0B,GAA6B,IAA1B1B,EAAIwC,SAASc,UAAkB,OAAStD,EAAIwC,SAASc,WAAW,iBAAiBtD,EAAIgD,KAAK9C,EAAG,MAAM,CAACS,YAAY,aAAa,CAAiC,GAA/BX,EAAIuD,iBAAiBjB,OAAapC,EAAG,MAAM,CAACS,YAAY,kBAAkB,CAACX,EAAIyB,GAAG,IAAIzB,EAAI0B,GAAG1B,EAAIwC,SAASE,UAAU,SAAS1C,EAAI0B,GAAG1B,EAAIuD,iBAAiBjB,QAAQ,QAAQtC,EAAIgD,KAAK9C,EAAG,YAAY,CAACU,MAAM,CAAC,aAAeZ,EAAIuD,kBAAkBpC,GAAG,CAAC,kBAAoBnB,EAAIqB,qBAAuD,GAAjCrB,EAAIwD,mBAAmBlB,OAAapC,EAAG,MAAM,CAACS,YAAY,kBAAkB,CAACX,EAAIyB,GAAG,IAAIzB,EAAI0B,GAAG1B,EAAIwC,SAASE,UAAU,SAAS1C,EAAI0B,GAAG1B,EAAIwD,mBAAmBlB,QAAQ,QAAQtC,EAAIgD,KAAK9C,EAAG,YAAY,CAACU,MAAM,CAAC,aAAeZ,EAAIwD,oBAAoBrC,GAAG,CAAC,kBAAoBnB,EAAIqB,sBAAsB,IACjxE,EACIM,EAAkB,G,8BC6EtB,GACA8B,WAAA,CAAAC,SAAAA,EAAAA,GACArD,KAAA,WACA6B,OACA,OAEAM,SAAA,GAEAe,iBAAA,GAEAC,mBAAA,GAEAb,eAAA,EAEA,EACAR,QAAA,CAGA,oBACA,IAAAwB,QAAA,KAAAC,SAAA,yBAAAC,OAAAC,OAAAC,OACAJ,GAKAA,EAAAzB,KAAA8B,QAAA,SAAAL,EAAAzB,KAAAe,MACA,KAAAT,SAAAmB,EAAAzB,KAAA8B,SALA,KAAAC,SAAAC,MAAA,YAMA,EAGA,yBACA,IAAAC,EAAAC,KAAAC,MAAA,IAAAD,MAEAT,QAAA,KAAAC,SAAA,kBACAG,IAAA,KAAAF,OAAAC,OAAAC,IACAI,cAEAG,QAAAC,IAAAZ,GAEAA,EAAAA,EAAAzB,KAAAsC,SACA,IAAAvD,EAAA0C,EAAAc,WAAAzD,GAAA,GAAAA,EAAA0D,aACAf,EAAA,GAAAtD,KAAA,QAAAmC,SAAAE,gBACA,KAAAa,iBAAAI,EAAAgB,MAAA,EAAA1D,GACA,KAAAuC,mBAAAG,EAAAgB,MAAA1D,EACA,EAIAI,kBAAAC,GACA,KAAAsD,QAAAC,KAAA,CAAAxE,KAAA,kBAAAyD,OAAA,CAAAxC,OACA,EAGA,eACA,IAAAqC,QAAA,KAAAC,SAAA,WAAAO,WAAAW,EAAAA,EAAAA,QAGA,KAAAnB,EAAAzB,KAAA6C,MASAC,OAAAC,aAAAC,WAAA,UAEA,KAAAtC,OAAAuC,OAAA,uBACA,KAAAlB,SAAAmB,QAAA,SACA,KAAAzC,eAAA,EACA,KAAAiC,QAAAC,KAAA,CAAAxE,KAAA,yBAbA,KAAA4D,SAAA,iBAcA,GAEA5B,MAAA,CACA,uBAAAgD,GACAL,OAAAC,aAAAK,QAAA,WAAAD,IACA,KAAA1C,cAAAqC,OAAAC,aAAAK,QAAA,gBAAAzB,OAAAC,OAAAC,IAEA,GAEA,sBACA,KAAAwB,cACA,KAAAC,mBAEAR,OAAAC,aAAAK,QAAA,YACA,KAAA3C,cAAAqC,OAAAC,aAAAK,QAAA,gBAAAzB,OAAAC,OAAAC,IAEA,GCvKiQ,I,UCQ7PxB,GAAY,OACd,EACAxC,EACA4B,GACA,EACA,KACA,WACA,MAIF,EAAeY,EAAiB,O,uBCjBzB,SAASkD,EAAgBC,GAE5BA,EAAOC,SAASD,GAEdA,EADEA,EAAO,IACFE,KAAKC,MAAMH,EAAO,KAElBE,KAAKC,MAAMH,GAEpB,IAAII,EAAIF,KAAKC,MAAMH,EAAO,IACtBK,EAAIH,KAAKC,MAAMH,EAAO,IAG1B,OAFAI,EAAIA,EAAI,GAAK,IAAMA,EAAIA,EACvBC,EAAIA,EAAI,GAAK,IAAMA,EAAIA,EAChBD,EAAI,IAAMC,CACrB,CAGO,SAASjB,IACd,OAAOV,KAAK4B,KACd,CAGO,SAASC,EAAaP,GAC3BA,EAAOA,EAAKQ,MAAM,KAClB,IAAIJ,EAAIH,SAASD,EAAK,IAClBK,EAAIJ,SAASD,EAAK,IACtB,OAAW,GAAJI,EAASC,CAClB,CAGO,SAASI,EAAWC,EAAMC,GAK3B,OAAOC,KAAKD,KAEdA,EAAMA,EAAIE,QAAQC,OAAOC,IAAKL,EAAKM,cAAgB,IAAIC,OAAO,EAAIH,OAAOC,GAAGnE,UAI9E,IAAIsE,EAAI,CACN,KAAMR,EAAKS,WAAa,EACxB,KAAMT,EAAKU,UACX,KAAMV,EAAKW,WACX,KAAMX,EAAKY,aACX,KAAMZ,EAAKa,cAEb,IAAK,IAAIC,KAAKN,EACZ,GAAI,IAAIJ,OAAQ,IAAGU,MAAMZ,KAAKD,GAAM,CAClC,IAAIc,EAAMP,EAAEM,GAAK,GACjBb,EAAMA,EAAIE,QAAQC,OAAOC,GAAyB,IAArBD,OAAOC,GAAGnE,OAAe6E,EAAMC,EAAYD,GAC1E,CAEF,OAAOd,CACT,CAGO,SAASgB,EAAUC,GACxB,OAAIA,EAAM,KACRA,GAAOA,EAAM,KAAOC,QAAQ,GACrBD,EAAM,KAENA,CAEX,CAGA,SAASF,EAAYD,GAEnB,OAAQ,KAAOA,GAAKR,OAAOQ,EAAI7E,OACjC,C","sources":["webpack://cloud-music/./src/components/listCard/ListCard.vue","webpack://cloud-music/src/components/listCard/ListCard.vue","webpack://cloud-music/./src/components/listCard/ListCard.vue?6b14","webpack://cloud-music/./src/components/listCard/ListCard.vue?4700","webpack://cloud-music/./src/views/personal/Personal.vue","webpack://cloud-music/src/views/personal/Personal.vue","webpack://cloud-music/./src/views/personal/Personal.vue?62b6","webpack://cloud-music/./src/views/personal/Personal.vue?8b44","webpack://cloud-music/./src/plugins/utils.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.load),expression:\"load\"}],ref:\"listCard\",staticClass:\"listCard\",attrs:{\"infinite-scroll-disabled\":_vm.disabled,\"infinite-scroll-distance\":300,\"infinite-scroll-immediate\":false}},_vm._l((_vm.listCardData),function(item,index){return _c('div',{key:index,staticClass:\"listCardItem\",on:{\"click\":function($event){return _vm.clickListCardItem(item.id)}}},[_c('div',{staticClass:\"image\"},[_c('img',{attrs:{\"src\":(item.picUrl || item.coverImgUrl) + '?param=400y400',\"alt\":\"\"}})]),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.name))])])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"listCard\" v-infinite-scroll=\"load\" :infinite-scroll-disabled=\"disabled\" :infinite-scroll-distance=\"300\"\r\n        :infinite-scroll-immediate=\"false\" ref=\"listCard\">\r\n        <div class=\"listCardItem\" v-for=\"(item, index) in listCardData\" :key=\"index\" @click=\"clickListCardItem(item.id)\">\r\n            <div class=\"image\">\r\n                <img :src=\"(item.picUrl || item.coverImgUrl) + '?param=400y400'\" alt=\"\" />\r\n            </div>\r\n            <div class=\"title\">{{ item.name }}</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: \"ListCard\",\r\n    props: {\r\n        listCardData: {\r\n            type: Array,\r\n            default() {\r\n                return [];\r\n            },\r\n        },\r\n        // 是否使用上拉触底事件\r\n        isLoad: {\r\n            type: Boolean,\r\n            default() {\r\n                return false;\r\n            },\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            // 无限滚动是否可用\r\n            disabled: true,\r\n        };\r\n    },\r\n    methods: {\r\n        clickListCardItem(id) {\r\n            this.$emit(\"clickListCardItem\", id);\r\n        },\r\n        // 滚动条边滑动边加载\r\n        load() {\r\n            this.$emit(\"bottomLoad\")\r\n            this.disabled = true\r\n        },\r\n    },\r\n    watch: {\r\n        //   数据更新后，可再次运行触发load事件\r\n        listCardData() {\r\n            if (this.isLoad == true) {\r\n                if (this.listCardData.length != 0) {\r\n                    this.disabled = false;\r\n                } else {\r\n                    this.disabled = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.listCard {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 10px 0;\r\n}\r\n\r\n.listCardItem {\r\n  width: 18.4%;\r\n  margin: 0 2% 20px 0;\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n}\r\n\r\n.image::after {\r\n  content: \"\";\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  background: url(\"~assets/img/imgLoading.png\") no-repeat center;\r\n  background-size: contain;\r\n  border-radius: 10px;\r\n  z-index: -1;\r\n}\r\n\r\n/* 一行显示五个 */\r\n.listCardItem:nth-child(5n) {\r\n  margin-right: 0;\r\n}\r\n\r\n.image {\r\n  width: 100%;\r\n  padding-bottom: 100%;\r\n  height: 0;\r\n  position: relative;\r\n}\r\n\r\n.image img {\r\n  width: 100%;\r\n  border-radius: 10px;\r\n}\r\n\r\n.title {\r\n  margin-top: 8px;\r\n  padding: 0 2px;\r\n  font-size: 12px;\r\n  color: black;\r\n  line-height: 17px;\r\n  /* 两行溢出 */\r\n  text-overflow: -o-ellipsis-lastline;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ListCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ListCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListCard.vue?vue&type=template&id=a4cfd9ea&scoped=true&\"\nimport script from \"./ListCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ListCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListCard.vue?vue&type=style&index=0&id=a4cfd9ea&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a4cfd9ea\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"Personal\"},[(_vm.userInfo.avatarUrl)?_c('div',{staticClass:\"userInfo\"},[_c('div',{staticClass:\"left\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.userInfo.avatarUrl + '?param=400y400',\"alt\":\"\"}})]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"rightTop\"},[_c('div',{staticClass:\"username\"},[_c('div',[_vm._v(_vm._s(_vm.userInfo.nickname))]),(_vm.isCurrentUser && this.$store.state.isLogin)?_c('div',{staticClass:\"logout\",on:{\"click\":_vm.logout}},[_c('i',{staticClass:\"iconfont icon-zhuxiao1\"}),_c('span',[_vm._v(\"退出登录\")])]):_vm._e()]),_c('div',{staticClass:\"tags\"},[_c('div',{staticClass:\"level\"},[_vm._v(_vm._s(\"Lv\" + _vm.userInfo.level))]),_c('div',{staticClass:\"gender\"})])]),_c('div',{staticClass:\"rightBottom\"},[_c('div',{staticClass:\"dataNums\"},[_c('div',{staticClass:\"numItem\"},[_c('div',{staticClass:\"numItemTop\"},[_vm._v(_vm._s(_vm.userInfo.eventCount))]),_c('div',{staticClass:\"numItemBottom\"},[_vm._v(\"动态\")])])]),_c('div',{staticClass:\"otherInfo\"},[_c('div',{staticClass:\"otherInfoItem\"},[_c('div',{staticClass:\"otherInfoKey\"},[_vm._v(\"用户id：\")]),_c('div',{staticClass:\"ptherInfoValue\"},[_vm._v(_vm._s(_vm.userInfo.userId))])]),_c('div',{staticClass:\"otherInfoItem\"},[_c('div',{staticClass:\"otherInfoKey\"},[_vm._v(\"所在地区：\")]),_c('div',{staticClass:\"ptherInfoValue\"},[_vm._v(\" \"+_vm._s(_vm.userInfo.province + \" \" + _vm.userInfo.city)+\" \")])]),_c('div',{staticClass:\"otherInfoItem\"},[_c('div',{staticClass:\"otherInfoKey\"},[_vm._v(\"个人介绍：\")]),_c('div',{staticClass:\"ptherInfoValue\"},[_vm._v(\" \"+_vm._s(_vm.userInfo.signature == \"\" ? \"暂无介绍\" : _vm.userInfo.signature)+\" \")])])])])])]):_vm._e(),_c('div',{staticClass:\"musicList\"},[(_vm.createdMusicList.length != 0)?_c('div',{staticClass:\"musicListTitle\"},[_vm._v(\" \"+_vm._s(_vm.userInfo.nickname)+\"创建的歌单(\"+_vm._s(_vm.createdMusicList.length)+\") \")]):_vm._e(),_c('list-card',{attrs:{\"listCardData\":_vm.createdMusicList},on:{\"clickListCardItem\":_vm.clickListCardItem}}),(_vm.collectedMusicList.length != 0)?_c('div',{staticClass:\"musicListTitle\"},[_vm._v(\" \"+_vm._s(_vm.userInfo.nickname)+\"收藏的歌单(\"+_vm._s(_vm.collectedMusicList.length)+\") \")]):_vm._e(),_c('list-card',{attrs:{\"listCardData\":_vm.collectedMusicList},on:{\"clickListCardItem\":_vm.clickListCardItem}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"Personal\">\r\n    <div class=\"userInfo\"\r\n         v-if=\"userInfo.avatarUrl\">\r\n      <div class=\"left\">\r\n        <img :src=\"userInfo.avatarUrl + '?param=400y400'\"\r\n             alt=\"\"\r\n             class=\"avatar\" />\r\n      </div>\r\n      <div class=\"right\">\r\n        <div class=\"rightTop\">\r\n          <div class=\"username\">\r\n            <div>{{ userInfo.nickname }}</div>\r\n            <div class=\"logout\"\r\n                 @click=\"logout\"\r\n                 v-if=\"isCurrentUser && this.$store.state.isLogin\">\r\n              <i class=\"iconfont icon-zhuxiao1\"></i>\r\n              <span>退出登录</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"tags\">\r\n            <div class=\"level\">{{ \"Lv\" + userInfo.level }}</div>\r\n            <div class=\"gender\">\r\n              <!-- 0 保密 1男 2女 -->\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"rightBottom\">\r\n          <!-- 动态 关注 粉丝 -->\r\n          <div class=\"dataNums\">\r\n            <div class=\"numItem\">\r\n              <div class=\"numItemTop\">{{ userInfo.eventCount }}</div>\r\n              <div class=\"numItemBottom\">动态</div>\r\n            </div>\r\n          </div>\r\n          <!-- 其它信息 -->\r\n          <div class=\"otherInfo\">\r\n            <div class=\"otherInfoItem\">\r\n              <div class=\"otherInfoKey\">用户id：</div>\r\n              <div class=\"ptherInfoValue\">{{ userInfo.userId }}</div>\r\n            </div>\r\n            <div class=\"otherInfoItem\">\r\n              <div class=\"otherInfoKey\">所在地区：</div>\r\n              <div class=\"ptherInfoValue\">\r\n                {{ userInfo.province + \" \" + userInfo.city }}\r\n              </div>\r\n            </div>\r\n            <div class=\"otherInfoItem\">\r\n              <div class=\"otherInfoKey\">个人介绍：</div>\r\n              <div class=\"ptherInfoValue\">\r\n                {{ userInfo.signature == \"\" ? \"暂无介绍\" : userInfo.signature }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 歌单 -->\r\n    <div class=\"musicList\">\r\n      <div class=\"musicListTitle\"\r\n           v-if=\"createdMusicList.length != 0\">\r\n        {{ userInfo.nickname }}创建的歌单({{ createdMusicList.length }})\r\n      </div>\r\n      <list-card :listCardData=\"createdMusicList\"\r\n                 @clickListCardItem=\"clickListCardItem\"></list-card>\r\n      <div class=\"musicListTitle\"\r\n           v-if=\"collectedMusicList.length != 0\">\r\n        {{ userInfo.nickname }}收藏的歌单({{ collectedMusicList.length }})\r\n      </div>\r\n      <list-card :listCardData=\"collectedMusicList\"\r\n                 @clickListCardItem=\"clickListCardItem\"></list-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ListCard from 'components/listCard/ListCard.vue';\r\nimport { getTimeStamp } from '@/plugins/utils';\r\n\r\nexport default {\r\n  components: { ListCard },\r\n  name: 'Personal',\r\n  data() {\r\n    return {\r\n      // 用户信息\r\n      userInfo: {},\r\n      // 创建的歌单\r\n      createdMusicList: [],\r\n      // 收藏的歌单\r\n      collectedMusicList: [],\r\n      // 该用户是否为当前用户\r\n      isCurrentUser: false,\r\n    };\r\n  },\r\n  methods: {\r\n    // 请求\r\n    // 获取用户信息\r\n    async getUserInfo() {\r\n      let res = await this.$request(`/user/detail?uid=${this.$route.params.uid}`);\r\n      if (!res) {\r\n        this.$message.error('获取用户信息失败!');\r\n        return;\r\n      }\r\n      // console.log(res);\r\n      res.data.profile['level'] = res.data.level;\r\n      this.userInfo = res.data.profile;\r\n    },\r\n\r\n    // 请求用户歌单\r\n    async getUserMusicList() {\r\n      let timestamp = Date.parse(new Date());\r\n      // 先从localStorage里面读取用户信息  如果登录成功是有存的\r\n      let res = await this.$request('/user/playlist', {\r\n        uid: this.$route.params.uid,\r\n        timestamp,\r\n      });\r\n      console.log(res);\r\n      // 对数据进行处理分类\r\n      res = res.data.playlist;\r\n      let index = res.findIndex((item) => item.subscribed == true);\r\n      res[0].name = `${this.userInfo.nickname}喜欢的音乐`;\r\n      this.createdMusicList = res.slice(0, index);\r\n      this.collectedMusicList = res.slice(index);\r\n    },\r\n\r\n    // 事件\r\n    // 点击歌单的回调\r\n    clickListCardItem(id) {\r\n      this.$router.push({ name: 'musicListDetail', params: { id } });\r\n    },\r\n\r\n    // 点击退出登录的回调\r\n    async logout() {\r\n      let res = await this.$request('/logout', { timestamp: getTimeStamp() });\r\n      // console.log(res);\r\n\r\n      if (res.data.code != 200) {\r\n        this.$message('退出登录失败, 请稍后重试!');\r\n        return;\r\n      }\r\n\r\n      // 清空data和localstorage中的数据，以及cookie\r\n      // window.localStorage.setItem(\"userInfo\", \"\");\r\n      // this.clearAllCookie();\r\n      // 删除localstoarge的userId\r\n      window.localStorage.removeItem('userId');\r\n      //   在vuex中更新登录状态\r\n      this.$store.commit('updataLoginState', false);\r\n      this.$message.success('退出成功!');\r\n      this.isCurrentUser = false;\r\n      this.$router.push({ name: '/discover/recommend'});\r\n    },\r\n  },\r\n  watch: {\r\n    '$store.state.isLogin'(current) {\r\n      if (window.localStorage.getItem('userId') && current) {\r\n        this.isCurrentUser = window.localStorage.getItem('userId') == this.$route.params.uid;\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    await this.getUserInfo();\r\n    this.getUserMusicList();\r\n    // 判断该用户是不是当前登录用户\r\n    if (window.localStorage.getItem('userId')) {\r\n      this.isCurrentUser = window.localStorage.getItem('userId') == this.$route.params.uid;\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.Personal {\r\n  height: calc(90vh);\r\n  overflow-y: scroll;\r\n}\r\n\r\n.userInfo {\r\n  margin: 30px 10px;\r\n  display: flex;\r\n}\r\n\r\n.avatar {\r\n  margin-top: 5px;\r\n  height: 150px;\r\n  width: 150px;\r\n  object-fit: cover;\r\n  border-radius: 50%;\r\n}\r\n\r\n.right {\r\n  margin-left: 20px;\r\n  flex: 1;\r\n}\r\n\r\n.username {\r\n  color: #373737;\r\n  font-size: 22px;\r\n  font-weight: bold;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.logout {\r\n  margin-right: 10px;\r\n  color: #373737;\r\n  height: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 20px;\r\n  cursor: pointer;\r\n  font-weight: lighter;\r\n  padding: 0 15px;\r\n  border: 1px solid #ddd;\r\n  transform: scale(0.9);\r\n}\r\n\r\n.logout:hover {\r\n  background-color: #f2f2f2;\r\n}\r\n\r\n.logout i {\r\n  font-size: 12px;\r\n  margin-right: 3px;\r\n}\r\n\r\n.logout span {\r\n  font-size: 12px;\r\n}\r\n\r\n.tags {\r\n  display: flex;\r\n  margin: 10px 0;\r\n}\r\n\r\n.level {\r\n  font-size: 12px;\r\n  transform: scale(0.8) translateX(-10%);\r\n  background-color: #f0f0f0;\r\n  width: 100;\r\n  padding: 2px 8px;\r\n  border-radius: 10px;\r\n  color: #373737;\r\n}\r\n\r\n.rightTop {\r\n  width: 100%;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.dataNums {\r\n  display: flex;\r\n  margin: 10px 0 5px;\r\n}\r\n\r\n.numItem {\r\n  border-left: 1px solid #eee;\r\n  padding: 0 25px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.numItem:nth-child(1) {\r\n  border-left: none;\r\n  padding-left: 3px;\r\n}\r\n\r\n.numItemTop {\r\n  color: #373737;\r\n  font-size: 18px;\r\n}\r\n\r\n.numItemBottom {\r\n  font-size: 12px;\r\n  transform: scale(0.8);\r\n}\r\n\r\n.otherInfo {\r\n  font-size: 12px;\r\n  transform: scale(0.9) translateX(-5%);\r\n  user-select: text !important;\r\n}\r\n\r\n.otherInfoItem {\r\n  display: flex;\r\n  margin: 5px 0;\r\n}\r\n\r\n.otherInfoKey {\r\n  color: #2e2e2e;\r\n}\r\n\r\n.otherInfoValue {\r\n  width: 80%;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.musicListTitle {\r\n  color: #373737;\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n}\r\n\r\n.musicList {\r\n  max-width: 1100px;\r\n  margin: 0 auto;\r\n  padding-bottom: 30px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Personal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Personal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Personal.vue?vue&type=template&id=4c6e1895&scoped=true&\"\nimport script from \"./Personal.vue?vue&type=script&lang=js&\"\nexport * from \"./Personal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Personal.vue?vue&type=style&index=0&id=4c6e1895&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c6e1895\",\n  null\n  \n)\n\nexport default component.exports","\r\n// 处理音乐时长的时间\r\nexport function handleMusicTime(time) {\r\n    // 如果超过了100000 基本都是毫秒为单位的了 先转成秒的\r\n    time = parseInt(time);\r\n    if (time > 10000) {\r\n      time = Math.floor(time / 1000);\r\n    } else {\r\n      time = Math.floor(time);\r\n    }\r\n    let m = Math.floor(time / 60);\r\n    let s = Math.floor(time % 60);\r\n    m = m < 10 ? '0' + m : m;\r\n    s = s < 10 ? '0' + s : s;\r\n    return m + ':' + s;\r\n}\r\n\r\n// 生成当前时间戳\r\nexport function getTimeStamp() {\r\n  return Date.now();\r\n}\r\n\r\n// 将播放时长还原为秒数\r\nexport function returnSecond(time) {\r\n  time = time.split(':');\r\n  let m = parseInt(time[0]);\r\n  let s = parseInt(time[1]);\r\n  return m * 60 + s;\r\n}\r\n\r\n// 格式化时间\r\nexport function formatDate(date, fmt) {\r\n  // 1.获取年份\r\n  // y+ 1个或者多个y  yyyy:2021\r\n  // y* 0个或者多个y\r\n  // y? 0个或者1个y\r\n  if (/(y+)/.test(fmt)) {\r\n    // RegExp.$1 指的是与正则表达式匹配的第一个子匹配\r\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n  }\r\n\r\n  // 2.获取月日等\r\n  let o = {\r\n    'M+': date.getMonth() + 1,\r\n    'd+': date.getDate(),\r\n    'h+': date.getHours(),\r\n    'm+': date.getMinutes(),\r\n    's+': date.getSeconds(),\r\n  };\r\n  for (let k in o) {\r\n    if (new RegExp(`(${k})`).test(fmt)) {\r\n      let str = o[k] + '';\r\n      fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? str : padLeftZero(str));\r\n    }\r\n  }\r\n  return fmt;\r\n}\r\n\r\n// 处理大于1w的数字\r\nexport function handleNum(num) {\r\n  if (num > 10000) {\r\n    num = (num / 10000).toFixed(1);\r\n    return num + '万';\r\n  } else {\r\n    return num;\r\n  }\r\n}\r\n\r\n// 不足两位补足两位 04:05:09\r\nfunction padLeftZero(str) {\r\n  // str=4 -> 004 截取 1 位 -> 04\r\n  return ('00' + str).substr(str.length);\r\n}"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","load","expression","ref","staticClass","attrs","disabled","_l","listCardData","item","index","key","on","$event","clickListCardItem","id","picUrl","coverImgUrl","_v","_s","staticRenderFns","props","type","Array","default","isLoad","Boolean","data","methods","$emit","watch","length","component","userInfo","avatarUrl","nickname","isCurrentUser","$store","state","isLogin","logout","_e","level","eventCount","userId","province","city","signature","createdMusicList","collectedMusicList","components","ListCard","res","$request","$route","params","uid","profile","$message","error","timestamp","Date","parse","console","log","playlist","findIndex","subscribed","slice","$router","push","getTimeStamp","code","window","localStorage","removeItem","commit","success","current","getItem","getUserInfo","getUserMusicList","handleMusicTime","time","parseInt","Math","floor","m","s","now","returnSecond","split","formatDate","date","fmt","test","replace","RegExp","$1","getFullYear","substr","o","getMonth","getDate","getHours","getMinutes","getSeconds","k","str","padLeftZero","handleNum","num","toFixed"],"sourceRoot":""}